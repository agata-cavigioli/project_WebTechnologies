<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NoloNoloPLVS Retrobottega</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="backoffice/css/style.css">
    <link rel="stylesheet" href="backoffice/css/color.css">
  </head>

  <body>
    <img id="background" src="backoffice/img/background.jpg" alt=""/>

    <div class="container-fluid">
      <div id="title" class="major p-3 pt-lg-4 pb-lg-3 px-lg-5">
        <div class="row justify-content-between">
          <div class="my-bg col-lg-6">
            <div class="p-3 pb-2">
              <h1 lang="en">Dining Philosophers' BackOffice</h1>
              <h2 id="login_message" style="display: none;">
                Ciao, <span id="login_message_text"> Maria Maria </span>
              </h2>
            </div>
          </div>
          <div id="manager_link"
               style="display: none;"
               class= "col-lg-3">
            <a href="/dashboard"
               lang="en"
               role="button"
               class="btn btn-primary w-100">Dashboard</a>
          </div>
          <div id="header_buttons" class= "col-lg-3">
            <button onclick="doLogin()"
                    lang="en"
                    type="button"
                    class="btn btn-primary w-100">Login</button>
          </div>
        </div>
      </div>
      <div id="login_window" style="display: none;">
        <div class="row justify-content-center align-items-center my-bg">
          <form onsubmit="return false" id="login_form" class="col-md-4 p-5 minor ">
            <h2 class="mb-3 text-center">BackOffice login</h2>
            <div class='mb-3'>
              <label for='LoginFormEmail' class='form-label'>Email address</label>
              <input required name="email" type='email'
                              class='form-control'
                              id='LoginFormEmail'
                              placeholder='name@example.com'>
            </div>
            <div class='mb-3'>
              <label for='LoginFormPassword' class='form-label'>Password</label>
              <input required name="password" type='password'
                              class='form-control'
                              id='LoginFormPassword'>
            </div>
            <div class='mb-3'>
              <div class="row">
                <div class="col">
                  <button onclick="checkCredentials()" type='submit'
                          class='btn btn-primary w-100'
                          id='LoginFormButton'>
                    Login
                  </button>
                </div>
                <div class="col">
                  <button onclick="doLogin()" type='submit'
                          class='btn btn-secondary w-100'
                          id='LoginFormButton'>
                    Back
                  </button>
                </div>
              </div>
            </div>
            <p id="incorrect_email_message" style="display: none;">Incorrect email or password. Please retry.</p>
          </form>
        </div> 
      </div>
      <div id="the_office">
        <nav>
          <ul role="navigation" id="the_nav" class="nav nav-tabs">
            <li class="nav-item">
              <a id="inventory_tab"
                 class="nav-link active top-tabs"
                 onclick="updateTab('inventory')"
                 aria-current="true"
                 href="#">Inventario</a>
            </li>
          </ul>
        </nav>


        <div id="inventory" class="content-tab my-bg p-3-lg row ">
          <h2 class="visually-hidden">Tabella prodotti</h2>
          <div class=" col-lg-8 col-12">
            <table id="twrap" class="text-start table table-bordered table-striped table-hover">
              <caption class="visually-hidden">Elenco prodotti</caption>
              <thead id="product_header" >
                <tr>
                  <form class="d-flex">
                    <th scope="col">
                      <label>
                        Data di Nascita
                        <input class="form-control me-2"
                               name="birth"
                               type="search"
                               aria-label="Cerca data di nascita">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Luogo di Nascita
                        <input class="form-control me-2"
                               name="birth_p"
                               type="search"
                               aria-label="Cerca luogo di nascita">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Data di morte
                        <input class="form-control me-2"
                               name="death"
                               type="search"
                               placeholder="Cerca"
                               aria-label="Cerca data di morte">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Luogo di morte
                        <input class="form-control me-2"
                               name="death_p"
                               type="search"
                               placeholder="Cerca"
                               aria-label="Cerca luogo di morte">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Nome
                        <input class="form-control me-2"
                               name="name"
                               type="search"
                               placeholder="Cerca"
                               aria-label="Cerca nome">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Tematiche
                        <input class="form-control me-2"
                               name="subjects"
                               type="search"
                               placeholder="Cerca"
                               aria-label="Cerca tematiche">
                      </label>
                    </th>
                    <th>
                      <a class="w-100 btn btn-primary"
                         href="#products"
                         onclick="filterProducts()"
                         role="button"
                         type="submit">
                        Filtra
                      </a>
                    </th>
                  </form>
                </tr>
              </thead>
              <tbody id="products">
              </tbody>
            </table>
            <div class="row justify-content-start major">
              <div class="col col-lg-2">
                <a class="w-100 btn btn-primary mb-2"
                   href="#products"
                   role="button"
                   onclick="resetSearchInputs('#product_header')"
                   type="reset">
                  Aggiorna
                </a>
              </div>
              <div class="col col-lg-2">
                <a class="w-100 btn btn-primary mb-2"
                   href="#product_header"
                   role="button">
                  Top
                </a>
              </div>
              <div class="col col-lg-2">
                <button id="product_insert_button"
                        class="w-100 btn btn-primary mb-2"
                        style="display: none;"
                        onclick="insertProduct()"
                        type="">
                  Nuovo 
                </button>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-12 minor ">
            <div id="product_card"
                 tabindex=0
                 class="show-card card text-start"
                 style="display: none;">
              <div
                tabindex=0
                class="card-body card-top">
                <div class="row"> 
                  <div class="col"> 
                    <h3 id="product_card_name"
                        class="h5 card-title fw-bold"></h3>
                    <p>Id: <small id="product_card_id"></small></p>
                    <p id="product_card_age"
                       class="card-text"></p>
                    <h4 class="h6 fw-bold">Tematiche:</h4>
                    <p id="product_card_subject" class="card-text"></p>
                  </div>
                  <div class="col"> 
                    <img id="product_card_image" src="" class="card-pic card-img-top" alt="..."/>
                  </div>
                </div>
              </div>

              <form id="nolo_form">
                <ul id="product_card_nolo_list"
                    tabindex=0
                    style="display: none;"
                    class="card-list list-group list-group-flush">
                  <li class="list-group-item">
                    <div class="row mb-3 g-3">
                      <div class="col-6 col-lg-2">
                        <b>Da:</b>
                      </div>
                      <div class="col-6 col-lg-4">
                        <input required type="date"
                                        id="nolo_form_date_from"
                                        name="date_from"
                                        class="card-text form-control"
                                        aria-label="Inizio noleggio">
                      </div>

                      <div class="col-6 col-lg-2">
                        <b>A:</b>
                      </div>
                      <div class="col-6 col-lg-4">
                        <input required type="date"
                                        id="nolo_form_date_to"
                                        name="date_to"
                                        class="card-text form-control"
                                        aria-label="Termine noleggio">
                      </div>
                    </div>
                    <p id="nolo_form_invalid_dates"
                       style="display: none;">
                      La data di inizio non può essere dopo la data di termine!
                    </p>
                    <p id="nolo_form_unavailable"
                       style="display: none;">
                      Il prodotto non è disponibile nelle date selezionate.
                    </p>
                  </li>
                  <li class="list-group-item">
                    <b> Prezzo giornaliero: </b>
                    <span id="nolo_form_base_price"></span>
                  </li>
                  <li class="list-group-item">
                    <div class="row">
                      <label for="nolo_form_discount" class="col">
                        <b>Sconto</b>
                      </label>
                      <div class="col">
                        <input type="number"
                               min=0
                               value=0
                               max=100
                               step=0.1
                               id="nolo_form_discount"
                               name="discount"
                               class="card-text form-control"
                               aria-label="Sconto">
                      </div>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div class="row">
                      <label for="nolo_form_insert_other_fees" class="col">
                        <b>Costi aggiuntivi</b>
                      </label>
                      <div class="col">
                        <input type="number"
                               min=any
                               max=any
                               value=0
                               step=0.1
                               id="nolo_form_insert_other_fees"
                               name="other_fees"
                               class="card-text form-control"
                               aria-label="Costi aggiuntivi">
                      </div>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div id="nolo_form_total_result" tabindex=0 class="row">
                      <b class="col"> Giorni: </b>
                      <span class="col"id="nolo_form_days"></span>
                    </div>
                  </li>

                  <li class="list-group-item">
                    <div class="row" tabindex=0>
                      <b class="col"> Totale: </b>
                      <span class="col" id="nolo_form_total"></span>
                    </div>
                  </li>
                </ul>
              </form>

              <ul id="product_card_info_list"
                  tabindex=0
                  class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <b>Prezzo:</b>
                  <span id="product_card_price"></span>
                </li>
                <li class="list-group-item">
                  <b> Condizioni: </b>
                  <span id="product_card_condition"></span>
                </li>

                <li id="product_card_available_abs"
                    class="list-group-item">
                  <b> Disponibile: </b>
                  <span id="product_card_available"></span>
                </li>
                <li id="product_card_available_dates"
                    style="display: none;"
                    class="list-group-item">
                  <b> Disponibile da </b>
                  <span id="product_card_available_from"></span>
                  <b> a </b>
                  <span id="product_card_available_to"></span>
                </li>

                <li class="list-group-item">
                  <b> Sconto: </b>
                  <span id="product_card_discount"></span>
                </li>
                <li class="list-group-item">
                  <b> Note: </b>
                  <span id="product_card_info"></span>
                </li>
              </ul>
              <div class="card-body">
                <div class="row">
                  <div class="col-6 col-lg-3">
                    <a href="#product_card_nolo_list"
                       id="nolo_button"
                       onclick="noloProduct()"
                       class="card-link">Preventivo</a>
                  </div>
                  <div class="col-6 col-lg-3">
                    <button class="btn btn-primary"
                            id="nolo_calc_button"
                            onclick="doNolo()"
                            style="display: none;">Calcola</button>
                  </div>
                  <div class="col-6 col-lg-3">
                    <a href="#product_card_modify"
                       class="product_card_options card-link"
                       style="display: none;"
                       onclick="modifyProduct()">Modifica</a>
                  </div>
                  <div class="col-6 col-lg-3">
                    <a href="#products"
                       onclick="deleteProduct()"
                       class="product_card_options card-link"
                       style="display: none;">Elimina</a>
                  </div>
                </div>
              </div>
            </div>

            <form id="product_card_modify" 
                  class="show-card card text-start"
                  style="display: none;">
              <div class="card-body card-top">
                <label class="fw-bold w-100">Nome:
                  <input required type="text"
                                  id="product_card_modify_name"
                                  name="name"
                                  class="card-title fw-bold form-control"
                                  aria-label="Nome">
                </label>
                <div class="row mb-2">
                  <div class="col">
                    <label class="fw-bold w-100">Luogo di Nascita:
                      <input required type="text"
                                      id="product_card_modify_birth_p"
                                      name="birth_p"
                                      class="card-text form-control"
                                      aria-label="Luogo di Nascita">
                    </label>
                  </div>
                  <div class="col">
                    <label class="fw-bold w-100">Data di Nascita:
                      <input required type="number"
                                      min=any
                                      max=any
                                      step=1
                                      id="product_card_modify_birth"
                                      name="birth"
                                      class="card-text form-control"
                                      aria-label="Data di Nascita">
                    </label>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col">
                    <label class="fw-bold w-100">Luogo di Morte:
                      <input required type="text"
                                      id="product_card_modify_death_p"
                                      name="death_p"
                                      class="card-text form-control"
                                      aria-label="Luogo di morte">
                    </label>
                  </div>
                  <div class="col">
                    <label class="fw-bold w-100">Data di Morte:
                      <input required type="number"
                                      min=any
                                      max=any
                                      step=1
                                      id="product_card_modify_death"
                                      name="death"
                                      class="card-text form-control"
                                      aria-label="Data di Morte">
                    </label>
                  </div>
                </div>
                <label class="fw-bold w-100 mb-2">Tematiche:
                  <input required type="text"
                                  id="product_card_modify_subjects"
                                  name="subjects"
                                  class="card-text form-control"
                                  aria-label="Tematiche">
                </label>
                <label class="fw-bold w-100 mb-2">Url immagine:
                  <input required type="url"
                                  id="product_card_modify_img"
                                  name="img"
                                  class="card-text form-control"
                                  aria-label="Url immagine">
                </label>
              </div>
              <ul class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_modify_cost" class="col">
                      <b>Prezzo:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=0
                                      max=any
                                      step=0.1
                                      id="product_card_modify_cost"
                                      name="cost"
                                      class="card-text form-control"
                                      aria-label="Prezzo">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_modify_condition" class="col">
                      <b>Condizioni:</b>
                    </label>
                    <div class="col">
                      <select id="product_card_modify_condition"
                              name="condition"
                              class="card-text form-control"
                              aria-label="Condizioni">
                        <option value="Entusiasta">Entusiasta</option>
                        <option value="Stanco">Stanco</option>
                        <option value="Riflessivo">Riflessivo</option>
                      </select>

                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <h6 class="fw-bold">Disponibilità</h6>
                    <label for="product_card_modify_available_from" class="col-6 col-lg-2">
                      <b>Da:</b>
                    </label>
                    <div class="col">
                      <input type="date"
                                      id="product_card_modify_available_from"
                                      name="available_from"
                                      class="card-text form-control"
                                      aria-label="Inizio disponibilità">
                    </div>
                    <label for="product_card_modify_available_to" class="col-6 col-lg-2">
                      <b>a:</b>
                    </label>
                    <div class="col">
                      <input type="date"
                                      id="product_card_modify_available_to"
                                      name="available_to"
                                      class="card-text form-control"
                                      aria-label="Fine disponibilità">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_modify_discount" class="col">
                      <b>Sconto:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=0
                                      max=100
                                      value=0
                                      step=0.1
                                      id="product_card_modify_discount"
                                      name="discount"
                                      class="card-text form-control"
                                      aria-label="Sconto">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_modify_info" class="col">
                      <b>Note:</b>
                    </label>
                    <div class="col">
                      <input type="text"
                             id="product_card_modify_info"
                             name="info"
                             class="card-text form-control"
                             aria-label="Note">
                    </div>
                  </div>
                </li>
              </ul>
              <div class="card-body">
                <a href="#product_card"
                   onclick="updateProduct()"
                   class="card-link">
                  Salva</a>
                <a href="#product_card"
                   class="card-link"
                   onclick="abortModify('inventory')"
                   >Annulla</a>
              </div>
            </form>

            <form id="product_card_insert" 
                  class="show-card card text-start"
                  style="display: none;"
                  aria-label="Inserisci prodotto">
              <div class="card-body card-top">
                <label class="fw-bold w-100">Nome:
                  <input required type="text"
                                  id="product_card_insert_name"
                                  name="name"
                                  class="card-title fw-bold form-control"
                                  aria-label="Nome">
                </label>
                <div class="row mb-2">
                  <div class="col">
                    <label class="fw-bold w-100">Luogo di nascita:
                      <input required type="text"
                                      id="product_card_insert_birth_p"
                                      name="birth_p"
                                      class="card-text form-control"
                                      aria-label="Luogo di Nascita">
                    </label>
                  </div>
                  <div class="col">
                    <label class="fw-bold w-100">Data di nascita:
                      <input required type="number"
                                      min=any
                                      max=any
                                      step=1
                                      id="product_card_insert_birth"
                                      name="birth"
                                      class="card-text form-control"
                                      aria-label="Data di Nascita">
                    </label>
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col">
                    <label class="fw-bold w-100">Luogo di morte:
                      <input required type="text"
                                      id="product_card_insert_death_p"
                                      name="death_p"
                                      class="card-text form-control"
                                      aria-label="Luogo di morte">
                    </label>
                  </div>
                  <div class="col">
                    <label class="fw-bold w-100">Data di morte:
                      <input required type="number"
                                      min=any
                                      max=any
                                      step=1
                                      id="product_card_insert_death"
                                      name="death"
                                      class="card-text form-control"
                                      aria-label="Data di Morte">
                    </label>
                  </div>
                </div>
                <label class="fw-bold w-100 mb-2">Tematiche:
                  <input type="text"
                         id="product_card_insert_subjects"
                         name="subjects"
                         class="card-text form-control"
                         aria-label="Tematiche">
                </label>
                <label class="fw-bold w-100 mb-2">Url immagine:
                  <input type="url"
                         id="product_card_insert_image"
                         name="img"
                         class="card-text form-control"
                         aria-label="Url immagine">
                </label>
              </div>
              <ul class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_insert_cost" class="col">
                      <b>Prezzo:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=0
                                      max=any
                                      step=0.1
                                      id="product_card_insert_cost"
                                      name="cost"
                                      class="card-text form-control"
                                      aria-label="Prezzo">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_insert_condition" class="col">
                      <b>Condizioni:</b>
                    </label>
                    <div class="col">
                      <select required id="product_card_insert_condition"
                                       name="condition"
                                       class="card-text form-control"
                                       aria-label="Condizioni">
                        <option value="Entusiasta">Entusiasta</option>
                        <option value="Stanco">Stanco</option>
                        <option value="Riflessivo">Riflessivo</option>
                      </select>
                    </div>
                  </div>
                </li>

                <li class="list-group-item">
                  <div class="row">
                    <h6 class="fw-bold">Disponibilità</h6>
                    <label for="product_card_insert_available_from" class="col-6 col-lg-2">
                      <b>Da:</b>
                    </label>
                    <div class="col">
                      <input type="date"
                             id="product_card_insert_available_from"
                             name="available_from"
                             class="card-text form-control"
                             aria-label="Inizio disponibilità">
                    </div>
                    <label for="product_card_insert_available_to" class="col-6 col-lg-2">
                      <b>a:</b>
                    </label>
                    <div class="col">
                      <input type="date"
                             id="product_card_insert_available_to"
                             name="available_to"
                             class="card-text form-control"
                             aria-label="Fine disponibilità">
                    </div>
                  </div>
                </li>

                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_insert_discount" class="col">
                      <b>Sconto:</b>
                    </label>
                    <div class="col">
                      <input type="number"
                             min=0
                             max=100
                             value=0
                             step=0.1
                             id="product_card_insert_discount"
                             name="discount"
                             class="card-text form-control"
                             aria-label="Sconto">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="product_card_insert_info" class="col">
                      <b>Note:</b>
                    </label>
                    <div class="col">
                      <input type="text"
                             id="product_card_insert_info"
                             name="info"
                             class="card-text form-control"
                             aria-label="Note">
                    </div>
                  </div>
                </li>
              </ul>
              <div class="card-body">
                <a href="#product_card"
                   onclick="saveNewProduct()"
                   class="card-link">
                  Salva</a>
                <a href="#product_card"
                   class="card-link"
                   onclick="abortModify('inventory')"
                   >Annulla</a>
              </div>
            </form>
          </div>
        </div>


        <div id="clients"
             style="display: none;"
             class="content-tab my-bg p-3-lg row ">
          <div id="clients_table" class=" col-lg-8 col-12">
            <h2 class="visually-hidden">Tabella clienti</h2>
            <table id="twrap" class="text-start table table-bordered table-striped table-hover ">
              <caption class="visually-hidden">Elenco clienti</caption>
              <thead id="clients_header" >
                <tr>
                  <form class="d-flex">
                    <th scope="col">
                      <label>
                        Nome
                        <input class="form-control me-2"
                               name="name"
                               type="search"
                               placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Cognome
                        <input class="form-control me-2"
                               name="surname"
                               type="search" placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Email 
                        <input class="form-control me-2"
                               name="email"
                               type="search" placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Telefono
                        <input class="form-control me-2"
                               name="phone"
                               type="search" placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Indirizzo
                        <input class="form-control me-2"
                               name="address"
                               type="search"
                               placeholder="Cerca">
                      </label>
                    </th>
                    <th>
                      <a class="w-100 h-100 btn btn-primary"
                         href="#clients"
                         onclick="filterClients()"
                         role="button"
                         type="submit">
                        Filtra
                      </a>
                    </th>

                  </form>
                </tr>
              </thead>
              <tbody id="people">
              </tbody>
            </table>


            <div class="row justify-content-start g-3 major">

              <div class="col col-lg-2">
                <a class="w-100 btn btn-primary mb-2"
                   href="#clients"
                   role="button"
                   onclick="resetSearchInputs('#clients_header')"
                   type="reset">Aggiorna</a>
              </div>
              <div class="col col-lg-2">
                <a class="w-100 btn btn-primary mb-2"
                   href="#clients_header"
                   role="button">Top</a>
              </div>
              <div class="col col-lg-2">
                <button class="w-100 btn btn-primary mb-2"
                        onclick="insertClient()">
                  Nuovo</button>
              </div>
            </div>
          </div>


          <div id="client_history"
               style="display: none;"
               class="col-lg-8 col-12 minor p-2 px-lg-5 py-lg-3">
            <div class="row">
              <h2 class="col">Storico Cliente</h2>
              <a href="#client_card"
                 onclick="hideHistory()"
                 class="col">Indietro</a>
            </div>
            <div>
              <h3>Noleggi passati</h3>
              <div id="client_history_past"
                   class="h2 row row-cols-1 row-cols-md-3 g-4 mb-3">
              </div>
              <h3>Noleggi presenti</h3>
              <div id="client_history_present"
                   class="h2 row row-cols-1 row-cols-md-3 g-4 mb-3">
              </div>
              <h3>Noleggi futuri</h3>
              <div id="client_history_future"
                   class="h2 row row-cols-1 row-cols-md-3 g-4 mb-3">
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-12 minor">
            <div id="client_card"
                 class="show-card card text-start"
                 style="display: none;">
              <div class="card-body card-top">
                <div class="row"> 
                  <div class="col"> 
                    <h5 id="client_card_name"
                        class="card-title fw-bold"></h5>
                    <p>Id: <small id="client_card_id"></small></p>
                    <p class="card-text">
                      <p class="fw-bold">Email:</p>
                      <p id="client_card_email" ></p>
                    </p>
                    <p class="card-text">
                      <p class="fw-bold">Telefono:</p>
                      <p id="client_card_phone" ></p>
                    </p>
                    <p class="card-text">
                      <p class="fw-bold">Indirizzo:</p>
                      <p id="client_card_address" ></p>
                    </p>

                  </div>
                </div>
              </div>

              <ul id="client_card_info_list" class="card_list list-group list-group-flush">
                <li class="list-group-item">
                  <b> Note: </b>
                  <span id="client_card_info"></span>
                </li>
                <li class="list-group-item">
                  <button class="btn btn-primary"
                          onclick="showHistory()">Storico</button>
                </li>
              </ul>
              <div class="card-body row">
                <div class="col">
                  <a href="#client_card_modify"
                     role="button"
                     class="client_card_options card-link"
                     onclick="modifyClient()">Modifica</a>
                </div>
                <div class="col">
                  <a href="#people"
                     role="button"
                     onclick="deleteClient()"
                     class="client_card_options card-link">Elimina</a>
                </div>
              </div>
            </div>

            <form id="client_card_modify" 
                  class="show-card card text-start"
                  style="display: none;">
              <div class="card-body card-top">
                <div class="row mb-2">
                  <div class="col">
                    <label class="fw-bold w-100">Nome:
                      <input required type="text"
                                      id="client_card_modify_name"
                                      name="name"
                                      class="card-title form-control"
                                      aria-label="Nome">
                    </label>
                  </div>
                  <div class="col">
                    <label class="fw-bold w-100">Cognome:
                      <input required type="text"
                                      id="client_card_modify_surname"
                                      name="surname"
                                      class="card-title form-control"
                                      aria-label="Cognome">
                    </label>
                  </div>
                </div>
                <label class="fw-bold w-100">Email:
                  <input required type="email"
                                  id="client_card_modify_email"
                                  name="email"
                                  class="card-text form-control mb-2"
                                  aria-label="Email">
                </label>
                <label class="fw-bold w-100">Telefono:
                  <input required type="tel"
                                  id="client_card_modify_phone"
                                  name="phone"
                                  class="card-text form-control mb-2"
                                  aria-label="Telefono">
                </label>
                <label class="fw-bold w-100">Indirizzo:
                  <input required type="text"
                                  id="client_card_modify_address"
                                  name="address"
                                  class="card-text form-control mb-2"
                                  aria-label="Address">
                </label>
              </div>
              <ul class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <div class="row">
                    <label for="client_card_modify_info" class="col">
                      Note:
                    </label>
                    <div class="col">
                      <input type="text"
                             id="client_card_modify_info"
                             name="info"
                             class="card-text form-control"
                             aria-label="Note">
                    </div>
                  </div>
                </li>
              </ul>
              <div class="card-body">
                <a href="#client_card"
                   onclick="updateClient()"
                   class="card-link">
                  Salva</a>
                <a href="#client_card"
                   class="card-link"
                   onclick="abortModify('clients')"
                   >Annulla</a>
              </div>
            </form>

            <form id="client_card_insert" 
                  class="show-card card text-start"
                  style="display: none;">
              <div class="card-body card-top">
                <div class="row mb-2">
                  <div class="col">
                    <label class="fw-bold w-100">Nome:
                      <input required type="text"
                                      id="client_card_insert_name"
                                      name="name"
                                      class="card-title form-control"
                                      aria-label="Nome">
                    </label>
                  </div>
                  <div class="col">
                    <label class="fw-bold w-100">Cognome:
                      <input required type="text"
                                      id="client_card_insert_surname"
                                      name="surname"
                                      class="card-title form-control"
                                      aria-label="Cognome">
                    </label>
                  </div>
                </div>
                <label class="fw-bold w-100">Email:
                  <input required type="email"
                                  id="client_card_insert_email"
                                  name="email"
                                  class="card-text form-control mb-2"
                                  aria-label="Email">
                </label>
                <label class="fw-bold w-100">Telefono:
                  <input required type="tel"
                                  id="client_card_insert_phone"
                                  name="phone"
                                  class="card-text form-control mb-2"
                                  aria-label="Telefono">
                </label>
                <label class="fw-bold w-100">Indirizzo:
                  <input required type="text"
                                  id="client_card_insert_address"
                                  name="address"
                                  class="card-text form-control mb-2"
                                  aria-label="Address">
                </label>
              </div>
              <ul class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <div class="row">
                    <label for="client_card_insert_info" class="col">
                      Note:
                    </label>
                    <div class="col">
                      <input type="text"
                             id="client_card_insert_info"
                             name="info"
                             class="card-text form-control"
                             aria-label="Note">
                    </div>
                  </div>
                </li>
              </ul>
              <div class="card-body">
                <a href="#client_card"
                   onclick="saveNewClient()"
                   class="card-link">
                  Salva</a>
                <a href="#client_card"
                   class="card-link"
                   onclick="abortModify('clients')"
                   >Annulla</a>
              </div>
            </form>


          </div>
        </div>


        <div id="nolos"
             class="content-tab my-bg p-3-lg row "
             style="display: none;">
          <div class=" col-lg-8 col-12">
            <h2 class="visually-hidden">Tabella noleggi</h2>
            <table id="twrap" class="text-start table table-bordered table-striped table-hover ">
              <caption class="visually-hidden">Elenco noleggi</caption>
              <thead id="nolo_header">
                <tr>
                  <form class="d-flex">
                    <th scope="col">
                      <label>
                        Cliente
                        <input class="form-control me-2"
                               name="client"
                               type="search"
                               placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Inizio
                        <input class="form-control me-2"
                               name="date_from"
                               type="date"
                               placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Fine
                        <input class="form-control me-2"
                               name="date_to"
                               type="date"
                               placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Dipendente
                        <input class="form-control me-2"
                               name="dep_id"
                               type="search"
                               placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Prodotto
                        <input class="form-control me-2"
                               name="product"
                               type="search"
                               placeholder="Cerca">
                      </label>
                    </th>
                    <th scope="col">
                      <label>
                        Stato
                        <select name="status"
                                class="form-control me-2 w-100"
                                aria-label="Stato noleggio">
                          <option value="">Tutti</option>
                          <option value="Prenotato">Prenotato</option>
                          <option value="Iniziato">Iniziato</option>
                          <option value="Concluso">Concluso</option>
                          <option value="In ritardo">In ritardo</option>
                        </select>

                      </label>
                    </th>
                    <th>
                      <a class="w-100 h-100 btn btn-primary"
                         href="#nolos"
                         onclick="filterNolos()"
                         role="button"
                         type="submit">
                        Filtra
                      </a>
                    </th>
                  </form>
                </tr>
              </thead>
              <tbody id="nolo">
              </tbody>
            </table>
            <div class="row justify-content-start g-3 major">

              <div class="col col-lg-2">
                <a class="w-100 btn btn-primary mb-2"
                   href="#nolos"
                   role="button"
                   onclick="resetSearchInputs('#nolo_header')"
                   type="reset">
                  Aggiorna
                </a>
              </div>
              <div class="col col-lg-2">
                <a class="w-100 btn btn-primary mb-2"
                   href="#nolo_header"
                   role="button">
                  Top
                </a>
              </div>
              <div class="col col-lg-2">
                <button class="w-100 btn btn-primary mb-2"
                        onclick="insertNolo()"
                        type="">
                  Nuovo 
                </button>
              </div>

            </div>
          </div>
          <div class="col-lg-4 col-12 minor ">
            <div id="nolo_card"
                 class="show-card card text-start"
                 style="display: none;">
              <div class="card-body card-top">
                <div class="row"> 
                  <div class="col"> 
                    <p>Id: <small id="nolo_card_id"></small></p>
                    <p>
                      <span class="fw-bold">Cliente:</span>
                      <span id="nolo_card_client" class="card-text"></span>
                    </p>
                    <p>
                      <span class="fw-bold">Prodotto:</span>
                      <span id="nolo_card_product" class="card-text"></span>
                    </p>
                    <h6 class="fw-bold">Periodo:</h6>
                    <p id="nolo_card_date" class="card-text"></p>
                    <p>
                      <span class="fw-bold">Totale:</span>
                      <span id="nolo_card_total" class="card-text"></span>
                    </p>
                  </div>
                </div>
              </div>


              <ul id="nolo_card_info_list" class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <b> Stato noleggio: </b>
                  <span id="nolo_card_status"></span>
                </li>
                <li class="list-group-item">
                  <b> Giorni: </b>
                  <span id="nolo_card_days"></span>
                </li>
                <li class="list-group-item">
                  <b>Costo giornaliero: </b>
                  <span id="nolo_card_daily_cost"></span>
                </li>
                <li class="list-group-item">
                  <b>Sconto: </b>
                  <span id="nolo_card_discount"></span>
                </li>
                <li class="list-group-item">
                  <b> Costi aggiuntivi: </b>
                  <span id="nolo_card_other_fees"></span>
                </li>
                <li class="list-group-item">
                  <b> Note: </b>
                  <span id="nolo_card_info"></span>
                </li>
              </ul>
              <div class="card-body">
                <div class="row">
                  <div class="col-6 col-lg-3">
                    <a href="#nolo_card_modify"
                       role="button"
                       class="nolo_card_options card-link"
                       onclick="modifyNolo()">Modifica</a>
                  </div>
                  <div class="col-6 col-lg-3">
                    <a href="#nolos"
                       onclick="deleteNolo()"
                       class="nolo_card_options card-link">Elimina</a>
                  </div>
                </div>
              </div>
            </div>
            <form id="nolo_card_modify" 
                  class="show-card card text-start"
                  style="display: none;">
              <div class="card-body card-top">
                <div class="mb-2">
                  <label class="fw-bold w-100">Id Cliente:
                    <input required type="number"
                                    min=0
                                    max=any
                                    step=1
                                    id="nolo_card_modify_client_id"
                                    name="client_id"
                                    class="card-title form-control"
                                    aria-label="Id Cliente">
                  </label>
                  <label class="fw-bold w-100">Id Prodotto:
                    <input required type="number"
                                    min=0
                                    max=any
                                    step=1
                                    id="nolo_card_modify_product_id"
                                    name="product_id"
                                    class="card-text form-control"
                                    aria-label="Id Prodotto">
                  </label>
                </div>
                <div class="row mb-2">
                  <h6 class="fw-bold">Periodo:</h6>
                  <div class="col-6 col-lg-2">
                    Da:
                  </div>
                  <div class="col">
                    <input required type="date"
                                    id="nolo_card_modify_date_from"
                                    name="date_from"
                                    class="card-text form-control"
                                    aria-label="Inizio noleggio">
                  </div>
                  <div class="col-6 col-lg-2">
                    a:
                  </div>
                  <div class="col">
                    <input required type="date"
                                    id="nolo_card_modify_date_to"
                                    name="date_to"
                                    class="card-text form-control"
                                    aria-label="Termine noleggio">
                  </div>
                </div>
                <p id="nolo_card_modify_invalid_dates"
                   style="display: none;">La data di inizio non può essere dopo la data di termine!</p>
                <p id="nolo_card_modify_unavailable"
                   style="display: none;">Il prodotto non è disponibile nelle date selezionate.</p>
              </div>
              <ul class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_modify_status "class="col">
                      <b>Stato noleggio:</b>
                    </label>
                    <div class="col">
                      <select id="nolo_card_modify_status"
                              name="status"
                              class="card-text form-control"
                              aria-label="Stato noleggio">
                        <option value="Prenotato">Prenotato</option>
                        <option value="Iniziato">Iniziato</option>
                        <option value="Concluso">Concluso</option>
                        <option value="In ritardo">In ritardo</option>
                      </select>

                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_modify_daily_cost" class="col">
                      <b>Costo giornaliero:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=0
                                      max=any
                                      step=0.1
                                      id="nolo_card_modify_daily_cost"
                                      name="daily_cost"
                                      class="card-text form-control"
                                      aria-label="Costo giornaliero">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_modify_discount" class="col">
                      <b>Sconto:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=0
                                      max=100
                                      value=0
                                      step=0.1
                                      id="nolo_card_modify_discount"
                                      name="discount"
                                      class="card-text form-control"
                                      aria-label="Sconto">
                    </div>
                  </div>
                </li>

                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_modify_other_fees" class="col">
                      <b>Costi aggiuntivi:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=any
                                      max=any
                                      step=0.1
                                      value=0
                                      id="nolo_card_modify_other_fees"
                                      name="other_fees"
                                      class="card-text form-control"
                                      aria-label="Costi aggiuntivi">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_modify_info" class="col">
                      <b>Note:</b>
                    </label>
                    <div class="col">
                      <input type="text"
                             id="nolo_card_modify_info"
                             name="info"
                             class="card-text form-control"
                             aria-label="Note">
                    </div>
                  </div>
                </li>
              </ul>
              <div class="card-body">
                <a href="#nolo_card"
                   role="button"
                   onclick="updateNolo()"
                   class="card-link">
                  Salva</a>
                <a href="#nolo_card"
                   class="card-link"
                   role="button"
                   onclick="abortModify('nolos')">
                  Annulla</a>
              </div>
            </form>

            <form id="nolo_card_insert" 
                  class="show-card card text-start"
                  style="display: none;">
              <div class="card-body card-top">
                <div class="mb-2">
                  <label class="fw-bold w-100">Id Cliente:
                    <input required type="number"
                                    min=0
                                    max=any
                                    step=1
                                    id="nolo_card_insert_client"
                                    name="client_id"
                                    class="card-title form-control"
                                    aria-label="Id Cliente">
                  </label>
                  <label class="fw-bold w-100">Id Prodotto:
                    <input required type="number"
                                    min=0
                                    max=any
                                    step=1
                                    id="nolo_card_insert_product"
                                    name="product_id"
                                    class="card-text form-control"
                                    aria-label="Id Prodotto">
                  </label>
                </div>
                <div>
                  <div class="row mb-2">
                    <h6 class="fw-bold">Periodo:</h6>
                    <div class="col-6 col-lg-2">
                      <b>Da: </b>
                    </div>
                    <div class="col">
                      <input required type="date"
                                      id="nolo_card_insert_date_from"
                                      name="date_from"
                                      class="card-text form-control"
                                      aria-label="Inizio noleggio">
                    </div>
                    <div class="col-6 col-lg-2">
                      <b>a: </b>
                    </div>
                    <div class="col">
                      <input required type="date"
                                      id="nolo_card_insert_date_to"
                                      name="date_to"
                                      class="card-text form-control"
                                      aria-label="Termine noleggio">
                    </div>
                  </div>
                  <p id="nolo_card_insert_invalid_dates"
                     style="display: none;">La data di inizio non può essere dopo la data di termine!</p>
                  <p id="nolo_card_insert_unavailable"
                     style="display: none;">Il prodotto non è disponibile nelle date selezionate.</p>
                </div>
              </div>
              <ul class="card-list list-group list-group-flush">
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_insert_status" class="col">
                      <b>Stato noleggio:</b>
                    </label>
                    <div class="col">
                      <select id="nolo_card_insert_status"
                              name="status"
                              class="card-text form-control"
                              aria-label="Stato noleggio">
                        <option value="Prenotato">Prenotato</option>
                        <option value="Iniziato">Iniziato</option>
                        <option value="Concluso">Concluso</option>
                        <option value="In ritardo">In ritardo</option>
                      </select>
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_insert_daily_cost" class="col">
                      <b>Costo giornaliero:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=0
                                      max=any
                                      step=0.1
                                      id="nolo_card_insert_daily_cost"
                                      name="daily_cost"
                                      class="card-text form-control"
                                      aria-label="Costo giornaliero">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_insert_discount" class="col">
                      <b>Sconto:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=0
                                      max=100
                                      step=0.1
                                      value=0
                                      id="nolo_card_insert_discount"
                                      name="discount"
                                      class="card-text form-control"
                                      aria-label="Sconto">
                    </div>
                  </div>
                </li>

                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_insert_other_fees" class="col">
                      <b>Costi aggiuntivi:</b>
                    </label>
                    <div class="col">
                      <input required type="number"
                                      min=any
                                      max=any
                                      step=0.1
                                      value=0
                                      id="nolo_card_insert_other_fees"
                                      name="other_fees"
                                      class="card-text form-control"
                                      aria-label="Costi aggiuntivi">
                    </div>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="row">
                    <label for="nolo_card_insert_info" class="col">
                      <b>Note:</b>
                    </label>
                    <div class="col">
                      <input type="text"
                             id="nolo_card_insert_info"
                             name="info"
                             class="card-text form-control"
                             aria-label="Note">
                    </div>
                  </div>
                </li>
              </ul>
              <div class="card-body">
                <a href="#nolo_card"
                   role="button"
                   onclick="saveNewNolo()"
                   class="card-link">
                  Salva</a>
                <a href="#nolo_card"
                   class="card-link"
                   onclick="abortModify('nolos')"
                   >Annulla</a>
              </div>
            </form>


          </div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="/backoffice/js/main.js"/>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>
